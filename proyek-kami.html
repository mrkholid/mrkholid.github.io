<!DOCTYPE html>
<html class="wide wow-animation" lang="en">
  <head>
    <title>Projects | PT Indoprima Sinergi Persada</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CLato:300,300italic,400,400italic,700,900%7CPlayfair+Display:700italic,900"
    />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/fonts.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.5.0/css/lightgallery.min.css"
    />
  </head>
  <body>
    <!-- NOTE preloader -->
    <div class="preloader">
      <div class="brand-lg">
        <a class="brand" href="index.html">
          <img
            src="images/logo/logo_panjang.png"
            alt="PT Indoprima Sinergi Persada Logo"
          />
        </a>
        <div class="page-loader-body">
          <div id="spinningSquaresG">
            <div class="spinningSquaresG" id="spinningSquaresG_1"></div>
            <div class="spinningSquaresG" id="spinningSquaresG_2"></div>
            <div class="spinningSquaresG" id="spinningSquaresG_3"></div>
            <div class="spinningSquaresG" id="spinningSquaresG_4"></div>
            <div class="spinningSquaresG" id="spinningSquaresG_5"></div>
            <div class="spinningSquaresG" id="spinningSquaresG_6"></div>
            <div class="spinningSquaresG" id="spinningSquaresG_7"></div>
            <div class="spinningSquaresG" id="spinningSquaresG_8"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="page">
      <!-- NOTE header -->
      <header class="page-head">
        <div class="rd-navbar-wrap">
          <nav
            class="rd-navbar rd-navbar-default"
            data-layout="rd-navbar-fixed"
            data-sm-layout="rd-navbar-fixed"
            data-md-layout="rd-navbar-fixed"
            data-lg-layout="rd-navbar-static"
            data-xl-layout="rd-navbar-static"
            data-xxl-layout="rd-navbar-static"
            data-lg-stick-up="true"
            data-xl-stick-up="true"
            data-xxl-stick-up="true"
          >
            <div class="rd-navbar-inner">
              <div class="rd-navbar-panel">
                <button
                  class="rd-navbar-toggle"
                  data-custom-toggle=".rd-navbar-nav-wrap"
                  data-custom-toggle-disable-on-blur="true"
                >
                  <span></span>
                </button>
                <a class="rd-navbar-brand brand" href="index.html">
                  <img
                    src="images/logo/logo_panjang.png"
                    alt="PT Indoprima Sinergi Persada Logo"
                    width="250"
                    height="auto"
                  />
                </a>
              </div>
              <div class="rd-navbar-group rd-navbar-search-wrap">
                <div class="rd-navbar-nav-wrap">
                  <div class="rd-navbar-nav-inner">
                    <ul class="rd-navbar-nav">
                      <li class="rd-nav-item">
                        <a class="rd-nav-link" href="index.html">Home</a>
                      </li>
                      <li class="rd-nav-item active">
                        <a class="rd-nav-link" href="proyek-kami.html"
                          >Projects</a
                        >
                      </li>
                      <li class="rd-nav-item">
                        <a class="rd-nav-link" href="tentang-kami.html"
                          >Tentang Kami</a
                        >
                      </li>
                      <li class="rd-nav-item">
                        <a class="rd-nav-link" href="layanan-kami.html"
                          >Layanan Kami</a
                        >
                      </li>
                      <li class="rd-nav-item">
                        <a class="rd-nav-link" href="kebijakan-privasi.html"
                          >Kebijakan Kami</a
                        >
                      </li>
                      <li class="rd-nav-item">
                        <a class="rd-nav-link" href="hubungi-kami.html"
                          >Hubungi Kami</a
                        >
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </nav>
        </div>
      </header>

      <!-- NOTE Main Content -->
      <section
        class="section section-30 section-xxl-40 section-xxl-66 section-xxl-bottom-90 novi-background bg-gray-dark page-title-wrap"
        style="background-image: url(images/bg-image-5.jpg)"
      >
        <div class="container">
          <div class="page-title">
            <h2>Project yang pernah kami kerjakan</h2>
          </div>
        </div>
      </section>

      <!-- NOTE Projects Section -->
      <section
        class="section section-50 section-md-90 section-lg-bottom-120 section-xl-bottom-165"
      >
        <div class="container isotope-wrap text-center">
          <div class="row row-40">
            <div class="col-sm-12">
              <ul class="isotope-filters-responsive">
                <li><p>Pilih Kategori:</p></li>
                <li class="block-top-level">
                  <button
                    class="isotope-filters-toggle btn btn-sm btn-default"
                    data-custom-toggle="#isotope-1"
                    data-custom-toggle-hide-on-blur="true"
                    data-custom-toggle-disable-on-blur="true"
                  >
                    Filter<span class="caret"></span>
                  </button>
                  <div
                    class="isotope-filters isotope-filters-minimal isotope-filters-horizontal"
                    id="isotope-1"
                  >
                    <ul class="list-inline">
                      <li>
                        <a class="active" data-isotope-filter="*" href="#"
                          >Semua</a
                        >
                      </li>
                      <li>
                        <a data-isotope-filter="Category 1" href="#"
                          >Pengadaan</a
                        >
                      </li>
                      <li>
                        <a data-isotope-filter="Category 2" href="#"
                          >Pengerjaan</a
                        >
                      </li>
                      <li>
                        <a data-isotope-filter="Category 3" href="#"
                          >Pembelian</a
                        >
                      </li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
            <div class="col-sm-12">
              <div
                class="row isotope isotope-gutter-default"
                data-lightgallery="group"
                data-lg-thumbnail="false"
              >
                <!-- NOTE list projects -->
                <!-- Project items will be dynamically inserted here -->
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- NOTE sosmed alamat dll -->
      <section
        class="section section-40 section-md-top-75 section-md-bottom-60 bg-cod-gray novi-background"
      >
        <div class="container text-center text-md-start">
          <div
            class="row row-30 align-items-md-center justify-content-lg-center justify-content-xl-start"
          >
            <div class="col-md-12 col-lg-12 col-xl-12">
              <div class="wrap-justify">
                <address class="contact-info text-start">
                  <div
                    class="unit unit-horizontal unit-spacing-xs align-items-center justify-content-center unit-sm-left"
                  >
                    <div class="unit-left">
                      <span
                        class="novi-icon icon icon-md-custom icon-gunsmoke material-icons-place"
                      ></span>
                    </div>
                    <div class="unit-body fw-light">
                      <a class="link-light-03 d-inline" href="#">
                        Gedung Graha Pena Lantai 15, Jalan Ahmad Yani,<br />
                        Kecamatan Gayungan, Surabaya, Jawa Timur, Indonesia<br />
                        Kode Pos: 60231
                      </a>
                    </div>
                  </div>
                </address>
                <address class="contact-info text-start">
                  <div
                    class="unit unit-horizontal unit-spacing-xs align-items-center justify-content-center unit-sm-left"
                  >
                    <div class="unit-left">
                      <span
                        class="novi-icon icon icon-md-custom icon-gunsmoke material-icons-phone"
                      ></span>
                    </div>
                    <div class="unit-body fw-light">
                      <div class="link-wrap">
                        <a class="link-light-03" href="tel:+623135910004"
                          >(+62)31-3591-0004</a
                        >
                      </div>
                      <div class="link-wrap">
                        <a class="link-light-03" href="tel:+62811368383"
                          >(+62) 811 36 8383</a
                        >
                      </div>
                      <div class="link-wrap">
                        <a
                          class="link-light-03"
                          href="mailto:pt.indoprimasinergipersada@gmail.com"
                          >pt.indoprimasinergipersada@gmail.com</a
                        >
                      </div>
                    </div>
                  </div>
                </address>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- NOTE footer -->
      <footer
        class="page-foot page-foot-default section-35 bg-black novi-background text-center"
      >
        <div class="container">
          <p class="rights small">
            <span>PT Indoprima Sinergi Persada</span>
            <span>&nbsp;&#169;&nbsp;</span>
            <span class="copyright-year"></span>
            <span>All Rights Reserved</span>
            <br class="d-md-none" />
            <a class="link-primary" href="kebijakan-privasi.html"
              >Privacy Policy</a
            >
          </p>
        </div>
      </footer>
    </div>

    <!-- NOTE Floating WhatsApp Chat -->
    <a
      href="https://api.whatsapp.com/send/?phone=6285648834731&text=Assalamu%27alaikum%2C%0A%0ASaya+ingin+menggunakan+jasa+dari+Bekti+IT%2C+bagaimana+prosedurnya%3F&type=phone_number&app_absent=0"
      class="whatsapp-float"
      target="_blank"
      rel="noopener noreferrer"
    >
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
        alt="WhatsApp Icon"
        width="40"
        height="40"
        loading="lazy"
      />
    </a>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.5.0/lightgallery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.5.0/plugins/zoom/lg-zoom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.5.0/plugins/video/lg-video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script>
    <script src="js/core.min.js"></script>
    <script src="js/script.js"></script>

    <script>
      const rawCategories = [
        {
          category: "Category 1",
          images: [
            "images/testimoni/antam/1.jpg",
            "images/testimoni/antam/2.jpg",
            "images/testimoni/antam/3.jpg",
            "images/testimoni/cems/1.jpg",
            "images/testimoni/cems/2.jpg",
            "images/testimoni/cems/3.jpg",
            "images/testimoni/culvert/1.jpg",
            "images/testimoni/culvert/2.jpg",
            "images/testimoni/mirlindo/1.jpg",
            "images/testimoni/mirlindo/2.jpg",
            "images/testimoni/mirlindo/3.jpg",
            "images/testimoni/poka/1.jpg",
            "images/testimoni/tembilahan/1.jpg",
            "images/testimoni/tembilahan/2.jpg",
            "images/testimoni/tembilahan/3.jpg",
            "images/testimoni/wwtp/1.jpg",
          ],
        },
        {
          category: "Category 2",
          images: [
            "images/testimoni/bangka/1.jpg",
            "images/testimoni/bangka/2.jpg",
            "images/testimoni/bangka/3.jpg",
            "images/testimoni/cems_haltim/1.jpg",
            "images/testimoni/cems_haltim/2.jpg",
            "images/testimoni/economizer/1.jpg",
            "images/testimoni/economizer/2.jpg",
            "images/testimoni/economizer/3.jpg",
            "images/testimoni/panel/1.jpg",
            "images/testimoni/panel/2.jpg",
            "images/testimoni/panel/3.jpg",
            "images/testimoni/ropa/1.jpg",
            "images/testimoni/ropa/2.jpg",
            "images/testimoni/tidore/1.jpg",
            "images/testimoni/tidore/2.jpg",
            "images/testimoni/tidore/3.jpg",
          ],
        },
        {
          category: "Category 3",
          images: [
            "images/testimoni/boiler/1.jpg",
            "images/testimoni/boiler/2.jpg",
            "images/testimoni/boiler/3.jpg",
            "images/testimoni/clarifier/1.jpg",
            "images/testimoni/clarifier/2.jpg",
            "images/testimoni/clarifier/3.jpg",
            "images/testimoni/maluku/1.jpg",
            "images/testimoni/pertamina/1.jpg",
            "images/testimoni/pertamina/2.jpg",
            "images/testimoni/pertamina/3.jpg",
            "images/testimoni/titanium/1.jpg",
            "images/testimoni/titanium/2.jpg",
            "images/testimoni/titanium/3.jpg",
          ],
        },
      ];

      const transformedCategories = rawCategories.map((category) => {
        return {
          category: category.category,
          images: category.images.map((imagePath, index) => {
            const projectName = imagePath.split("/")[2]; // Extract project name from path
            return {
              src: imagePath,
              caption: `${projectName} Project - Image ${index + 1}`,
            };
          }),
        };
      });

      // console.log(transformedCategories);

      function populateImages(categories) {
        const container = document.querySelector(
          ".row.isotope.isotope-gutter-default"
        );
        container.innerHTML = "";

        for (const [category, images] of Object.entries(categories)) {
          for (const image of images) {
            const colDiv = document.createElement("div");
            colDiv.className = "col-12 col-md-6 col-lg-4 isotope-item";
            colDiv.setAttribute("data-filter", category);

            const thumbnailDiv = document.createElement("div");
            thumbnailDiv.className = "thumbnail thumbnail-variant-3";

            const linkExternal = document.createElement("a");
            linkExternal.className = "link link-external";
            linkExternal.href = "#";

            const iconSpan = document.createElement("span");
            iconSpan.className = "novi-icon icon icon-sm fa fa-link";

            linkExternal.appendChild(iconSpan);
            thumbnailDiv.appendChild(linkExternal);

            const figure = document.createElement("figure");
            const img = document.createElement("img");
            img.src = image.src;
            img.alt = `Project Image - ${category}`;
            img.loading = "lazy";
            figure.appendChild(img);
            thumbnailDiv.appendChild(figure);

            const captionDiv = document.createElement("div");
            captionDiv.className = "caption";

            const linkOriginal = document.createElement("a");
            linkOriginal.className = "link link-original";
            linkOriginal.href = image.src;
            linkOriginal.setAttribute("data-lightgallery", "item");

            const captionText = document.createElement("p");
            captionText.className = "image-caption";
            captionText.textContent = image.caption;

            captionDiv.appendChild(linkOriginal);
            captionDiv.appendChild(captionText);
            thumbnailDiv.appendChild(captionDiv);

            colDiv.appendChild(thumbnailDiv);
            container.appendChild(colDiv);

            // Add click event to open gallery
            img.addEventListener("click", () => {
              openGallery(category, images, image.src);
            });
          }
        }
      }

      function openGallery(category, images, currentImagePath) {
        const dynamicEl = images.map((image) => ({
          src: image.src,
          thumb: image.src,
          subHtml: `<h4>${category}</h4><p>${image.caption}</p>`,
        }));

        const dynamicGallery = lightGallery(null, {
          dynamic: true,
          dynamicEl: dynamicEl,
          plugins: [lgZoom, lgVideo, lgThumbnail],
        });

        const startIndex = images.findIndex(
          (image) => image.src === currentImagePath
        );
        dynamicGallery.openGallery(startIndex);
      }

      function combineCategories(rawCategories) {
        const combined = {};

        for (const item of rawCategories) {
          const { category, images } = item;
          if (!combined[category]) {
            combined[category] = [];
          }
          combined[category].push(...images);
        }

        return combined;
      }

      const categories = combineCategories(transformedCategories);
      populateImages(categories);
    </script>
  </body>
</html>
